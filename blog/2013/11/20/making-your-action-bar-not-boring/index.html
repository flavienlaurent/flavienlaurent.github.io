
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Making Your ActionBar Not Boring - Flavien Laurent</title>
  <meta name="author" content="Flavien Laurent">

  
  <meta name="description" content="Back in May 2013, everyone has discovered the beautiful action bar effect in the Play Music app (explained by Cyril Mottier , Pushing the ActionBar &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://flavienlaurent.com/blog/2013/11/20/making-your-action-bar-not-boring">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Flavien Laurent" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-43113155-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Flavien Laurent</a></h1>
  
    <h2>The Android Framework, step by step</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:flavienlaurent.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
	
	<li><a href="http://github.com/flavienlaurent" title="Github Profile" target="_blank"></i>Github</a></li>
	
	
	
	<li><a href="http://twitter.com/flavienlaurent" title="Twitter Profile" target="_blank">Twitter</a></li>
	
	
	<li><a href="http://plus.google.com/103561222519914490723" title="Google+ Profile" target="_blank">G+</a></li>
	
	
	
	<li><a href="/atom.xml" title="RSS" target="_blank">RSS</a></li>
	
	
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Making Your ActionBar Not Boring</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-20T19:47:00+01:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>7:47 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Back in May 2013, everyone has discovered the beautiful action bar effect in the Play Music app (explained by <a href="http://www.cyrilmottier.com/">Cyril Mottier</a> , <a href="http://www.cyrilmottier.com/2013/05/24/pushing-the-actionbar-to-the-next-level/">Pushing the ActionBar to the Next Level</a>). This effect is really a great way to make the ActionBar a reactive part of the UI.</p>

<p>Yesterday, I discovered the new <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.magazines">Newsstand app</a> which introduced a new way to push the ActionBar to the next level. If you open the edition screen, you&rsquo;ll notice the ActionBar is transparent (without icon) and overlaps a large images set (overlaped by the big magazine icon) describing some news. Once you start scrolling down, the big magazine icon is translated and scaled to match the ActionBar icon.</p>

<!-- more -->


<p>Here it&rsquo;s a short demo of the trick</p>

<p><img src="https://raw.github.com/flavienlaurent/NotBoringActionBar/master/graphics/notboringab.gif"></p>

<p>The main advantage is to make the ActionBar real part of the content.</p>

<p>In this article, I&rsquo;m going to explain how to make the whole edition screen (the ActionBar effect and the <a href="http://en.wikipedia.org/wiki/Ken_Burns_effect">Ken Burns</a> animation). I will deep dive into the details of implementing the ActionBar effect. As a bonus, I will explain how to create a view animated with the Ken Burns effect.</p>

<p>You can download &amp; install the sample application.</p>

<p><a href="http://flavienlaurent.com/blog/2013/11/20/making-your-action-bar-not-boring/sample.apk">Download Sample Application</a></p>

<h1>The ActionBar trick</h1>

<h1>Styles</h1>

<p>The first step is to setup styles to:</p>

<ul>
<li>have a transparent ActionBar</li>
<li>enable <a href="http://developer.android.com/training/basics/actionbar/overlaying.html">overlay mode</a></li>
</ul>


<figure class='code'><figcaption><span>styles.xml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;resources&gt;</span>
</span><span class='line'>    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">&quot;TransparentTheme&quot;</span> <span class="na">parent=</span><span class="s">&quot;@android:style/Theme.Holo.Light&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:windowBackground&quot;</span><span class="nt">&gt;</span>@null<span class="nt">&lt;/item&gt;</span>
</span><span class='line'>        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:actionBarStyle&quot;</span><span class="nt">&gt;</span>@style/ActionBarStyle.Transparent<span class="nt">&lt;/item&gt;</span>
</span><span class='line'>        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:windowActionBarOverlay&quot;</span><span class="nt">&gt;</span>true<span class="nt">&lt;/item&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/style&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">&quot;ActionBarStyle.Transparent&quot;</span> <span class="na">parent=</span><span class="s">&quot;@android:Widget.ActionBar&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:background&quot;</span><span class="nt">&gt;</span>@null<span class="nt">&lt;/item&gt;</span>
</span><span class='line'>        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:displayOptions&quot;</span><span class="nt">&gt;</span>homeAsUp|showHome|showTitle<span class="nt">&lt;/item&gt;</span>
</span><span class='line'>        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:titleTextStyle&quot;</span><span class="nt">&gt;</span>@style/ActionBarStyle.Transparent.TitleTextStyle<span class="nt">&lt;/item&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/style&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">&quot;ActionBarStyle.Transparent.TitleTextStyle&quot;</span> <span class="na">parent=</span><span class="s">&quot;@android:style/TextAppearance.Holo.Widget.ActionBar.Title&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:textColor&quot;</span><span class="nt">&gt;</span>@android:color/white<span class="nt">&lt;/item&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/style&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/resources&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h1>Layout structure</h1>

<p>The layout structure is really important. The main layout is a FrameLayout composed by a ListView and another FrameLayout (ie <code>header</code>). The header contains one ImageView (ie <code>header_picture</code>) which is the picture and one ImageView (ie <code>header_logo</code>) which is the icon to be translated &amp; scaled into the ActionBar.</p>

<figure class='code'><figcaption><span>main.xml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;FrameLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
</span><span class='line'>    <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>    <span class="na">android:layout_height=</span><span class="s">&quot;match_parent&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;ListView</span>
</span><span class='line'>        <span class="na">android:id=</span><span class="s">&quot;@+id/listview&quot;</span>
</span><span class='line'>        <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>        <span class="na">android:layout_height=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>        <span class="na">android:background=</span><span class="s">&quot;@android:color/white&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;FrameLayout</span>
</span><span class='line'>        <span class="na">android:id=</span><span class="s">&quot;@+id/header&quot;</span>
</span><span class='line'>        <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>        <span class="na">android:layout_height=</span><span class="s">&quot;@dimen/header_height&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>        <span class="nt">&lt;ImageView</span>
</span><span class='line'>            <span class="na">android:id=</span><span class="s">&quot;@+id/header_picture&quot;</span>
</span><span class='line'>            <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>            <span class="na">android:layout_height=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>            <span class="na">android:src=</span><span class="s">&quot;@drawable/picture0&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>        <span class="nt">&lt;ImageView</span>
</span><span class='line'>            <span class="na">android:id=</span><span class="s">&quot;@+id/header_logo&quot;</span>
</span><span class='line'>            <span class="na">android:layout_width=</span><span class="s">&quot;@dimen/header_logo_size&quot;</span>
</span><span class='line'>            <span class="na">android:layout_height=</span><span class="s">&quot;@dimen/header_logo_size&quot;</span>
</span><span class='line'>            <span class="na">android:layout_gravity=</span><span class="s">&quot;center&quot;</span>
</span><span class='line'>            <span class="na">android:src=</span><span class="s">&quot;@drawable/ic_header_logo&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;/FrameLayout&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/FrameLayout&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The trick here is to add an fake header view in the ListView. This fake header must have the same height as the real header. You can use a layout xml file to describe the fake header</p>

<figure class='code'><figcaption><span>fake_header.xml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
</span><span class='line'>    <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>    <span class="na">android:layout_height=</span><span class="s">&quot;@dimen/header_height&quot;</span>
</span><span class='line'>    <span class="na">android:orientation=</span><span class="s">&quot;vertical&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/LinearLayout&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then, you just have to inflate &amp; add it by code</p>

<figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">mFakeHeader</span> <span class="o">=</span> <span class="n">getLayoutInflater</span><span class="o">().</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fake_header</span><span class="o">,</span> <span class="n">mListView</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
</span><span class='line'><span class="n">mListView</span><span class="o">.</span><span class="na">addHeaderView</span><span class="o">(</span><span class="n">mFakeHeader</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<h1>Get the scroll position</h1>

<p>I&rsquo;m not going to explain this in details because there is a bunch of StackOverflow, posts etc about it.</p>

<figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">int</span> <span class="nf">getScrollY</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">View</span> <span class="n">c</span> <span class="o">=</span> <span class="n">mListView</span><span class="o">.</span><span class="na">getChildAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">int</span> <span class="n">firstVisiblePosition</span> <span class="o">=</span> <span class="n">mListView</span><span class="o">.</span><span class="na">getFirstVisiblePosition</span><span class="o">();</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">top</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">getTop</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">int</span> <span class="n">headerHeight</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">firstVisiblePosition</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">headerHeight</span> <span class="o">=</span> <span class="n">mPlaceHolderView</span><span class="o">.</span><span class="na">getHeight</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="o">-</span><span class="n">top</span> <span class="o">+</span> <span class="n">firstVisiblePosition</span> <span class="o">*</span> <span class="n">c</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()</span> <span class="o">+</span> <span class="n">headerHeight</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Notice that you have to take care of the ListView header height in the calculation if the first visible position is >= 1.</p>

<h1>Translating the header</h1>

<p>On ListView scroll, you have to tranlate the header in order to follow the ListView fake header. Notice that the translation must be bounded to the ActionBar height.</p>

<figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">mListView</span><span class="o">.</span><span class="na">setOnScrollListener</span><span class="o">(</span><span class="k">new</span> <span class="n">AbsListView</span><span class="o">.</span><span class="na">OnScrollListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScrollStateChanged</span><span class="o">(</span><span class="n">AbsListView</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">scrollState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScroll</span><span class="o">(</span><span class="n">AbsListView</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">firstVisibleItem</span><span class="o">,</span> <span class="kt">int</span> <span class="n">visibleItemCount</span><span class="o">,</span> <span class="kt">int</span> <span class="n">totalItemCount</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="kt">int</span> <span class="n">scrollY</span> <span class="o">=</span> <span class="n">getScrollY</span><span class="o">();</span>
</span><span class='line'>            <span class="c1">//sticky actionbar</span>
</span><span class='line'>            <span class="n">mHeader</span><span class="o">.</span><span class="na">setTranslationY</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(-</span><span class="n">scrollY</span><span class="o">,</span> <span class="n">mMinHeaderTranslation</span><span class="o">));</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">});</span>
</span></code></pre></td></tr></table></div></figure>


<h1>Fading the title</h1>

<p>You need to retrieve the title View to apply a fade effect. This view can be retrieve using the <a href="http://developer.android.com/reference/android/content/res/Resources.html#getIdentifier">Resources.getIdentifier</a> method.</p>

<figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">private</span> <span class="n">TextView</span> <span class="nf">getActionBarTitleView</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">Resources</span><span class="o">.</span><span class="na">getSystem</span><span class="o">().</span><span class="na">getIdentifier</span><span class="o">(</span><span class="s">&quot;action_bar_title&quot;</span><span class="o">,</span> <span class="s">&quot;id&quot;</span><span class="o">,</span> <span class="s">&quot;android&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then, just initialize alpha value on this View</p>

<figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">getActionBarTitleView</span><span class="o">().</span><span class="na">setAlpha</span><span class="o">(</span><span class="mi">0</span><span class="n">f</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>On ListView scroll, you have to fade the title depending on the header translation ratio</p>

<figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">mListView</span><span class="o">.</span><span class="na">setOnScrollListener</span><span class="o">(</span><span class="k">new</span> <span class="n">AbsListView</span><span class="o">.</span><span class="na">OnScrollListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScrollStateChanged</span><span class="o">(</span><span class="n">AbsListView</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">scrollState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScroll</span><span class="o">(</span><span class="n">AbsListView</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">firstVisibleItem</span><span class="o">,</span> <span class="kt">int</span> <span class="n">visibleItemCount</span><span class="o">,</span> <span class="kt">int</span> <span class="n">totalItemCount</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="n">clamp</span><span class="o">(</span><span class="n">mHeader</span><span class="o">.</span><span class="na">getTranslationY</span><span class="o">()</span> <span class="o">/</span> <span class="n">mMinHeaderTranslation</span><span class="o">,</span> <span class="mf">0.0f</span><span class="o">,</span> <span class="mf">1.0f</span><span class="o">);</span>
</span><span class='line'>            <span class="c1">//actionbar title alpha</span>
</span><span class='line'>            <span class="n">getActionBarTitleView</span><span class="o">().</span><span class="na">setAlpha</span><span class="o">(</span><span class="n">clamp</span><span class="o">(</span><span class="mf">5.0</span><span class="n">F</span> <span class="o">*</span> <span class="n">ratio</span> <span class="o">-</span> <span class="mf">4.0</span><span class="n">F</span><span class="o">,</span> <span class="mf">0.0</span><span class="n">F</span><span class="o">,</span> <span class="mf">1.0</span><span class="n">F</span><span class="o">));</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Alpha values: f(x) = 5x-4</p>

<p><img src="/media/2013-11-20-making-your-action-bar-not-boring/5xmin4.png" width="325" height="200"></p>

<p>The clamp method is basic Math method (see <a href="http://en.wikipedia.org/wiki/Clamping_(graphics">Wikipedia</a>)</p>

<figure class='code'><figcaption><span>Clamp.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">float</span> <span class="nf">clamp</span><span class="o">(</span><span class="kt">float</span> <span class="n">value</span><span class="o">,</span> <span class="kt">float</span> <span class="n">max</span><span class="o">,</span> <span class="kt">float</span> <span class="n">min</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">value</span><span class="o">,</span> <span class="n">min</span><span class="o">),</span> <span class="n">max</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>




<p><div id="cmspan"><div>
<strong>A better solution by <a href="http://cyrilmottier.com">Cyril Mottier</a></strong></p>

<p>First, we don&rsquo;t need to get the ActionBar title view reference anymore. We are going to use a <a href="http://developer.android.com/reference/android/text/SpannableString.html">SpannableString</a> with a custom <a href="http://developer.android.com/reference/android/text/style/ForegroundColorSpan.html">ForegroundColorSpan</a>. We need a custom ForegroundColorSpan to be able to set the color alpha.</p>

<p><figure class='code'><figcaption><span>AlphaForegroundColorSpan.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AlphaForegroundColorSpan</span> <span class="kd">extends</span> <span class="n">ForegroundColorSpan</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">float</span> <span class="n">mAlpha</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="nf">AlphaForegroundColorSpan</span><span class="o">(</span><span class="kt">int</span> <span class="n">color</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">(</span><span class="n">color</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="o">[&hellip;]</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateDrawState</span><span class="o">(</span><span class="n">TextPaint</span> <span class="n">ds</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">ds</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">getAlphaColor</span><span class="o">());</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAlpha</span><span class="o">(</span><span class="kt">float</span> <span class="n">alpha</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">mAlpha</span> <span class="o">=</span> <span class="n">alpha</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">float</span> <span class="nf">getAlpha</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">mAlpha</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">getAlphaColor</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="kt">int</span> <span class="n">foregroundColor</span> <span class="o">=</span> <span class="n">getForegroundColor</span><span class="o">();</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">Color</span><span class="o">.</span><span class="na">argb</span><span class="o">((</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="n">mAlpha</span> <span class="o">*</span> <span class="mi">255</span><span class="o">),</span> <span class="n">Color</span><span class="o">.</span><span class="na">red</span><span class="o">(</span><span class="n">foregroundColor</span><span class="o">),</span> <span class="n">Color</span><span class="o">.</span><span class="na">green</span><span class="o">(</span><span class="n">foregroundColor</span><span class="o">),</span> <span class="n">Color</span><span class="o">.</span><span class="na">blue</span><span class="o">(</span><span class="n">foregroundColor</span><span class="o">));</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>On ListView scroll, we set the alpha value on the AlphaForegroundColorSpan object and finally call ActionBar#setTitle to refresh the title view. Notice that you must keep the same AlphaForegroundColorSpan and SpannableString instances for performance (avoiding GC).</p>

<p><figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">mListView</span><span class="o">.</span><span class="na">setOnScrollListener</span><span class="o">(</span><span class="k">new</span> <span class="n">AbsListView</span><span class="o">.</span><span class="na">OnScrollListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScrollStateChanged</span><span class="o">(</span><span class="n">AbsListView</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">scrollState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScroll</span><span class="o">(</span><span class="n">AbsListView</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">firstVisibleItem</span><span class="o">,</span> <span class="kt">int</span> <span class="n">visibleItemCount</span><span class="o">,</span> <span class="kt">int</span> <span class="n">totalItemCount</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="n">clamp</span><span class="o">(</span><span class="n">mHeader</span><span class="o">.</span><span class="na">getTranslationY</span><span class="o">()</span> <span class="o">/</span> <span class="n">mMinHeaderTranslation</span><span class="o">,</span> <span class="mf">0.0f</span><span class="o">,</span> <span class="mf">1.0f</span><span class="o">);</span>
</span><span class='line'>            <span class="c1">//actionbar title alpha</span>
</span><span class='line'>            <span class="n">setTitleAlpha</span><span class="o">(</span><span class="n">clamp</span><span class="o">(</span><span class="mf">5.0</span><span class="n">F</span> <span class="o">*</span> <span class="n">ratio</span> <span class="o">-</span> <span class="mf">4.0</span><span class="n">F</span><span class="o">,</span> <span class="mf">0.0</span><span class="n">F</span><span class="o">,</span> <span class="mf">1.0</span><span class="n">F</span><span class="o">));</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">});</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kt">void</span> <span class="nf">setTitleAlpha</span><span class="o">(</span><span class="kt">float</span> <span class="n">alpha</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">mAlphaForegroundColorSpan</span><span class="o">.</span><span class="na">setAlpha</span><span class="o">(</span><span class="n">alpha</span><span class="o">);</span>
</span><span class='line'>        <span class="n">mSpannableString</span><span class="o">.</span><span class="na">setSpan</span><span class="o">(</span><span class="n">mAlphaForegroundColorSpan</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">mSpannableString</span><span class="o">.</span><span class="na">length</span><span class="o">(),</span> <span class="n">Spannable</span><span class="o">.</span><span class="na">SPAN_EXCLUSIVE_EXCLUSIVE</span><span class="o">);</span>
</span><span class='line'>        <span class="n">getActionBar</span><span class="o">().</span><span class="na">setTitle</span><span class="o">(</span><span class="n">mSpannableString</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><em>Thanks to Cyril Mottier for pointing this out. It&rsquo;s a very elegant solution!</em></p>

<h1>Moving &amp; scaling the icon</h1>

<p>You need to retrieve the icon View to make a translation. This view can be retrieve using the classical findById method.</p>

<p><figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">private</span> <span class="n">ImageView</span> <span class="nf">getActionBarIconView</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">home</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>Then, set a transparent icon on the ActionBar</p>

<p><figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">ActionBar</span> <span class="n">actionBar</span> <span class="o">=</span> <span class="n">getActionBar</span><span class="o">();</span>
</span><span class='line'><span class="n">actionBar</span><span class="o">.</span><span class="na">setIcon</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">ic_transparent</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>On ListView scroll, you have to move &amp; scale depending on the header translation ratio. The main principle is to make a &ldquo;diff&rdquo; between the transparent (i.e. invisible) ActionBar icon view and the header logo view. This &ldquo;diff&rdquo; is calculated using the Rect on screen of the 2 views and results in scaleX, scaleY, translationX and translationY values. Finally, those values are used to translate and scale the header logo view until it matches the transparent ActionBar icon view.</p>

<p><figure class='code'><figcaption><span>MainActivity.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">mListView</span><span class="o">.</span><span class="na">setOnScrollListener</span><span class="o">(</span><span class="k">new</span> <span class="n">AbsListView</span><span class="o">.</span><span class="na">OnScrollListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScrollStateChanged</span><span class="o">(</span><span class="n">AbsListView</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">scrollState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScroll</span><span class="o">(</span><span class="n">AbsListView</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">firstVisibleItem</span><span class="o">,</span> <span class="kt">int</span> <span class="n">visibleItemCount</span><span class="o">,</span> <span class="kt">int</span> <span class="n">totalItemCount</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="n">clamp</span><span class="o">(</span><span class="n">mHeader</span><span class="o">.</span><span class="na">getTranslationY</span><span class="o">()</span> <span class="o">/</span> <span class="n">mMinHeaderTranslation</span><span class="o">,</span> <span class="mf">0.0f</span><span class="o">,</span> <span class="mf">1.0f</span><span class="o">);</span>
</span><span class='line'>            <span class="c1">//move &amp; scale</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">interpolation</span> <span class="o">=</span> <span class="n">mAccelerateDecelerateInterpolator</span><span class="o">.</span><span class="na">getInterpolation</span><span class="o">(</span><span class="n">ratio</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">View</span> <span class="n">actionBarIconView</span> <span class="o">=</span> <span class="n">getActionBarIconView</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">getOnScreenRect</span><span class="o">(</span><span class="n">mRect1</span><span class="o">,</span> <span class="n">mHeaderLogo</span><span class="o">);</span>
</span><span class='line'>            <span class="n">getOnScreenRect</span><span class="o">(</span><span class="n">mRect2</span><span class="o">,</span> <span class="n">actionBarIconView</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="kt">float</span> <span class="n">scaleX</span> <span class="o">=</span> <span class="mf">1.0</span><span class="n">F</span> <span class="o">+</span> <span class="n">interpolation</span> <span class="o"><em></span> <span class="o">(</span><span class="n">mRect2</span><span class="o">.</span><span class="na">width</span><span class="o">()</span> <span class="o">/</span> <span class="n">mRect1</span><span class="o">.</span><span class="na">width</span><span class="o">()</span> <span class="o">-</span> <span class="mf">1.0</span><span class="n">F</span><span class="o">);</span>
</span><span class='line'>            <span class="kt">float</span> <span class="n">scaleY</span> <span class="o">=</span> <span class="mf">1.0</span><span class="n">F</span> <span class="o">+</span> <span class="n">interpolation</span> <span class="o"></em></span> <span class="o">(</span><span class="n">mRect2</span><span class="o">.</span><span class="na">height</span><span class="o">()</span> <span class="o">/</span> <span class="n">mRect1</span><span class="o">.</span><span class="na">height</span><span class="o">()</span> <span class="o">-</span> <span class="mf">1.0</span><span class="n">F</span><span class="o">);</span>
</span><span class='line'>            <span class="kt">float</span> <span class="n">translationX</span> <span class="o">=</span> <span class="mf">0.5</span><span class="n">F</span> <span class="o"><em></span> <span class="o">(</span><span class="n">interpolation</span> <span class="o"></em></span> <span class="o">(</span><span class="n">mRect2</span><span class="o">.</span><span class="na">left</span> <span class="o">+</span> <span class="n">mRect2</span><span class="o">.</span><span class="na">right</span> <span class="o">-</span> <span class="n">mRect1</span><span class="o">.</span><span class="na">left</span> <span class="o">-</span> <span class="n">mRect1</span><span class="o">.</span><span class="na">right</span><span class="o">));</span>
</span><span class='line'>            <span class="kt">float</span> <span class="n">translationY</span> <span class="o">=</span> <span class="mf">0.5</span><span class="n">F</span> <span class="o"><em></span> <span class="o">(</span><span class="n">interpolation</span> <span class="o"></em></span> <span class="o">(</span><span class="n">mRect2</span><span class="o">.</span><span class="na">top</span> <span class="o">+</span> <span class="n">mRect2</span><span class="o">.</span><span class="na">bottom</span> <span class="o">-</span> <span class="n">mRect1</span><span class="o">.</span><span class="na">top</span> <span class="o">-</span> <span class="n">mRect1</span><span class="o">.</span><span class="na">bottom</span><span class="o">));</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">mHeaderLogo</span><span class="o">.</span><span class="na">setTranslationX</span><span class="o">(</span><span class="n">translationX</span><span class="o">);</span>
</span><span class='line'>            <span class="n">mHeaderLogo</span><span class="o">.</span><span class="na">setTranslationY</span><span class="o">(</span><span class="n">translationY</span> <span class="o">-</span> <span class="n">mHeader</span><span class="o">.</span><span class="na">getTranslationY</span><span class="o">());</span>
</span><span class='line'>            <span class="n">mHeaderLogo</span><span class="o">.</span><span class="na">setScaleX</span><span class="o">(</span><span class="n">scaleX</span><span class="o">);</span>
</span><span class='line'>            <span class="n">mHeaderLogo</span><span class="o">.</span><span class="na">setScaleY</span><span class="o">(</span><span class="n">scaleY</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">});</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>Notice that you can use an <a href="http://developer.android.com/reference/android/view/animation/AccelerateDecelerateInterpolator.html">AccelerateDecelerateInterpolator</a> on the ratio to make this animation smoother</p>

<h1>BONUS: Ken Burns animation</h1>

<p>Currently working on this part. The code is already available <a href="https://github.com/flavienlaurent/NotBoringActionBar/blob/master/App/src/main/java/com/flavienlaurent/notboringactionbar/KenBurnsView.java">KenBurnsView.java</a></p>

<h1>Conclusion</h1>

<p>As it&rsquo;s said <a href="https://plus.google.com/118417777153109946393/posts/CotvBV7FpNk">here</a>, it&rsquo;s always (with a few different details) the same trick called synchronized scrolling. The true genius of this effect is to have thought about it!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Flavien Laurent</span></span>

      




<time class='entry-date' datetime='2013-11-20T19:47:00+01:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>7:47 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/action-bar/'>action bar</a>, <a class='category' href='/blog/categories/newsstand/'>newsstand</a>, <a class='category' href='/blog/categories/scroll/'>scroll</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://flavienlaurent.com/blog/2013/11/20/making-your-action-bar-not-boring/" data-via="flavienlaurent" data-counturl="http://flavienlaurent.com/blog/2013/11/20/making-your-action-bar-not-boring/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/08/28/each-navigation-drawer-hides-a-viewdraghelper/" title="Previous Post: Each Navigation Drawer Hides a ViewDragHelper">&laquo; Each Navigation Drawer Hides a ViewDragHelper</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/01/31/spans/" title="Next Post: Spans, a powerful concept.">Spans, a powerful concept. &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/12/05/screenshot_automation/">Screenshots Through Automation</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/31/spans/">Spans, a Powerful Concept.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/20/making-your-action-bar-not-boring/">Making Your ActionBar Not Boring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/28/each-navigation-drawer-hides-a-viewdraghelper/">Each Navigation Drawer Hides a ViewDragHelper</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/14/viewoverlay-when-how-and-for-what-purpose/">ViewOverlay: When, How and for What Purpose?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/flavienlaurent">@flavienlaurent</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'flavienlaurent',
            count: 2,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/103561222519914490723?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Flavien Laurent -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'flavienlaurent';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://flavienlaurent.com/blog/2013/11/20/making-your-action-bar-not-boring/';
        var disqus_url = 'http://flavienlaurent.com/blog/2013/11/20/making-your-action-bar-not-boring/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
